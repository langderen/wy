软工之星投票系统 - README 文档
该项目是一个基于 Vue3 + TypeScript 开发的投票管理系统，核心功能包括用户登录 / 注册、投票列表展示、投票提交、历史投票查看及联系反馈，支持无限滚动加载和登录状态管理，界面简洁且交互流畅。
一、项目概述
1. 项目定位
面向 “软件工程之星” 评选场景的轻量级投票管理系统，支持普通用户投票、查看投票进度，以及管理员管理投票项目（需配合后端接口实现完整功能）。
2. 核心功能
功能模块	具体内容
用户认证	用户名 / 密码登录、新用户注册（含图形验证码验证）、登录状态 Cookie 存储（1 小时有效期）
投票管理	进行中投票列表（无限滚动加载）、投票详情页（单选投票）、投票状态限制（1 年仅投 1 次）
历史记录	已结束投票列表查看，展示往期投票排名结果
辅助功能	回到顶部组件、联系表单（待对接提交接口）、输入内容 XSS 攻击防护
二、技术栈
1. 前端核心技术
框架：Vue3（Composition API + <script setup> 语法糖）
语言：TypeScript（类型安全，减少运行时错误）
路由：Vue Router（实现页面跳转、路由传参）
UI 组件：Element Plus（提供回到顶部、轮播图等组件）
其他依赖：vue3-puzzle-vcode（注册图形验证码）、js-cookie（登录状态存储）
三、目录结构（建议）
plaintext
src/
├── components/       # 公共组件（如导航栏、页脚等，当前代码中未拆分，可按需补充）
├── pages/            # 页面组件
│   ├── Home.vue      # 首页（进行中投票列表）
│   ├── Login.vue     # 登录页
│   ├── Register.vue  # 注册页
│   ├── Vote.vue      # 投票详情页
│   ├── History.vue   # 已结束投票页
│   └── Contact.vue   # 联系表单页
├── stores/           # 状态管理（如userStore，存储用户名等信息）
├── router/           # 路由配置（管理页面跳转规则）
├── assets/           # 静态资源（轮播图图片等）
└── main.ts           # 入口文件（初始化Vue实例、挂载路由等）
四、关键页面说明
1. 首页（Home.vue）
功能：展示 “进行中” 的投票项目，支持无限滚动加载（每次加载 2 个投票卡片）。
核心逻辑：通过 v-infinite-scroll 指令触发 load 方法，累加 count 控制加载数量；点击投票卡片通过 RouterLink 跳转到投票详情页（携带投票 ID：/vote?id=1）。
2. 登录页（Login.vue）
功能：用户输入用户名 / 密码登录，包含输入验证和 XSS 防护。
核心逻辑：
用 v-model 绑定表单数据，@input 触发 validateInput 验证表单完整性（用户名和密码均不为空时按钮可点击）。
登录时通过正则 /(~|\{|\}|"|'|<|>|\?)/g 过滤非法字符，避免 XSS 攻击；登录成功后用 Cookie 存储用户名（1 小时有效期），并跳转到首页。
3. 投票详情页（Vote.vue）
功能：展示投票项目信息、候选人选项，限制用户重复投票。
核心逻辑：
通过 useRoute 获取路由参数 id（投票项目 ID）。
用 v-model 绑定用户选择的候选人；点击 “提交” 按钮时，用 Cookie 存储投票记录（键为投票 ID，值为候选人编号，有效期 1 年），刷新页面后按钮显示 “已投票” 并禁用。
4. 注册页（Register.vue）
功能：新用户注册，包含图形验证码验证。
核心逻辑：点击 “立即注册” 弹出 vue3-puzzle-vcode 验证码组件，验证成功后可提交注册信息（当前仅打印日志，需对接后端接口实现真实注册）。
五、环境配置与启动
1. 依赖安装
bash
# 初始化项目（若未初始化）
npm init vue@latest

# 安装核心依赖
npm install vue-router@4 element-plus vue3-puzzle-vcode js-cookie
npm install typescript @vitejs/plugin-vue-jsx -D
2. 启动项目
bash
# 开发环境启动（默认端口3000，可在vite.config.ts中修改）
npm run dev
3. 打包部署
bash
# 构建生产环境代码（输出到dist目录）
npm run build

# 将dist目录下的文件部署到Nginx、Apache等服务器即可访问
六、待完善功能
后端接口对接：当前代码仅包含前端逻辑，需对接后端接口实现以下功能：
登录 / 注册的真实数据校验（如用户名是否已存在、密码加密存储等）。
投票数据的持久化（当前用 Cookie 存储，仅保存在本地，需同步到后端数据库）。
联系表单的留言提交（Contact.vue 中的 sendmessage 方法未实现，需对接后端接口发送邮件或存储留言）。
组件拆分：将页脚、导航栏等公共部分拆分为独立组件（如 Footer.vue、Navbar.vue），提高代码复用性。
错误处理优化：登录 / 注册失败时的错误提示（如 “用户名或密码错误”）需对接后端返回信息，当前仅固定提示 “登录失败，请稍后重试”。
响应式适配：当前代码未包含移动端适配样式，需补充媒体查询，确保在手机、平板等设备上正常显示。
七、注意事项
Cookie 安全：当前用明文存储用户名到 Cookie，生产环境中建议：
后端生成 Token（如 JWT），前端存储 Token 而非明文用户名。
配置 Cookie 的 httpOnly 和 secure 属性，防止 Cookie 被窃取。
图片路径：轮播图图片路径为 /tu${item}.jfif，需确保图片文件放在 public 目录下（或修改路径为 @/assets/tu${item}.jfif，并将图片放入 src/assets）。
依赖版本兼容：安装依赖时注意版本匹配（如 Vue3 需搭配 Vue Router4、Element Plus 最新版），避免因版本冲突导致功能异常。
要不要我帮你补充一份 vite.config.ts 配置示例？包含端口设置、别名配置、Element Plus 自动导入等常用配置，可直接用于项目启动。
